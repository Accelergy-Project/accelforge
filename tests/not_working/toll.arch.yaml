arch:
  nodes:
  - !Memory
    name: main_memory
    attributes:
      _size: 1e9
      _datawidth: 8
    tensors: {keep: All}
    actions:
    - {name: read, arguments: {_energy: 0}}
    - {name: write, arguments: {_energy: 0}}
    - {name: leak, arguments: {_energy: 0}}

  - !Toll
    name: Toll
    attributes:
      _datawidth: 8
      _direction: up_and_down
    tensors: {keep: All}
    actions:
    - {name: read, arguments: {_energy: 100}}
    - {name: write, arguments: {_energy: 0}}
    - {name: leak, arguments: {_energy: 0}}

  - !Memory
    name: LocalBuffer
    attributes:
      _size: 1e9
      _datawidth: 8
    tensors: {keep: All}
    actions:
    - {name: read, arguments: {_energy: 0}}
    - {name: write, arguments: {_energy: 0}}
    - {name: leak, arguments: {_energy: 0}}

  - !Compute
    name: mac
    actions:
    - {name: compute, arguments: {_energy: 0.0}}
    - {name: leak, arguments: {_energy: 0}}
